(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{203:function(e,t,n){},204:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var s=n(13),a=n(0),o=n.n(a),c=n(29),i=n.n(c),l=(n(203),n(204),n(205),n(161)),r=n(162),d=n(193),b=n(186),m=n(40),h=n(366),u=n(361),j=n(363),y=n(362),p=n(364),S=n(163),O=n.n(S).a.create({baseURL:"http://localhost:5001",timeout:1e3}),f=n(368),x=(n(223),n(187)),g=n(133),v=n(188),w=n(90),k=n(359),I=n(360),C=n(194),A=n(365),M=n(367),P=(n(224),function(e){var t=e.companySymbols,n=(t=void 0===t?{}:t).symbols,o=t.lastUpdate,c=e.selectedSymbols,i=e.setSelectedSymbols,l=Object(a.useState)(""),r=Object(v.a)(l,2),d=r[0],b=r[1];return Object(s.jsxs)("div",{id:"ticker-search-wrapper",children:[Object(s.jsx)("h4",{children:"Add Symbol(s) to this watchlist"}),Object(s.jsx)(w.a,{style:{width:"100%"},showSearch:!0,onSearch:b,searchValue:d,options:(n||[]).map((function(e){return Object(g.a)({label:Object(s.jsxs)(k.a,{children:[Object(s.jsx)(I.a,{span:5,children:e.symbol}),Object(s.jsx)(I.a,{span:18,children:e.description})]}),value:e.symbol},e)})),filterOption:function(e,t){var n=t.value,s=t.description,a=e.toUpperCase();return n.toUpperCase().includes(a)||s.toUpperCase().includes(a)},onSelect:function(e,t){var n=Object(x.a)(c),s=Object(g.a)({},t);delete s.label,delete s.value,n.push(s),i(n),C.b.success("Symbol added")}}),Object(s.jsxs)("small",{children:["Last update: ",new Date(o).toISOString()]}),c.length>0&&Object(s.jsx)(A.b,{style:{marginTop:25},dataSource:c,renderItem:function(e){return Object(s.jsxs)(k.a,{style:{marginBottom:10,paddingLeft:5},children:[Object(s.jsx)(I.a,{span:5,children:e.symbol}),Object(s.jsx)(I.a,{span:18,children:e.description}),Object(s.jsx)(I.a,{children:Object(s.jsx)(M.a,{onClick:function(){var t=c.filter((function(t){return t.symbol!==e.symbol}));i(t)}})})]})}})]})}),L="watchList",D="companySymbols",U=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){localStorage.getItem(D)||O.get("https://finnhub.io/api/v1/stock/symbol?exchange=US&currency=USD&token=".concat("bvi32o748v6okueb4l3g")).then((function(e){if(!e.status)return console.error("Failed to load symbols");var t={symbols:(e.data||[]).sort((function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0})),lastUpdate:(new Date).getTime()};s.setState({companySymbols:t}),localStorage.setItem(D,JSON.stringify(t))}))},s.setShowAddModal=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return s.setState({modalVisible:e,modalProps:{},selectedSymbols:[]})},s.setSelectedSymbols=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.state.selectedSymbols;return s.setState({selectedSymbols:e})},s.state={companySymbols:JSON.parse(localStorage.getItem(D)),watchLists:JSON.parse(localStorage.getItem(L))||[],modalVisible:!1,modalProps:{},selectedSymbols:[]},s}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.modalVisible,a=t.watchLists,o=[{key:"symbol",dataIndex:"symbol",title:"Symbol"},{key:"description",dataIndex:"description",title:"Description"},{key:"currentPrice",dataIndex:"currentPrice",title:"Current Price",render:function(){return Object(s.jsxs)("div",{children:["$",Math.floor(1e3*Math.random())+1]})}},{key:"shareAmount",dataIndex:"shareAmount",title:"Amount of shares",render:function(){return Object(s.jsx)("div",{children:Math.floor(100*Math.random())+1})}},{key:"dailyGain",dataIndex:"dailyGain",title:"Daily gain",render:function(){return Object(s.jsxs)("div",{children:[Math.floor(5*Math.random())+1,"%"]})}}];return Object(s.jsxs)("div",{id:"watch-list-container",children:[Object(s.jsx)(m.a,{style:{marginBottom:35},onClick:this.setShowAddModal,children:"Add a Watchlist"}),a.length>0&&a.map((function(t){var n=t.id,c=t.name,i=t.symbols,l=void 0===i?[]:i;return Object(s.jsxs)("div",{style:{marginBottom:25},children:[Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(s.jsx)("h3",{children:c}),Object(s.jsx)(h.a,{title:"Are you sure to delete this watchlist?",trigger:"click",onConfirm:function(){var t=a.filter((function(e){return e.id!==n}));e.setState({watchLists:t},(function(){localStorage.setItem(L,JSON.stringify(t))}))},children:Object(s.jsx)(m.a,{type:"danger",size:"small",ghost:!0,children:"Delete"})})]}),Object(s.jsx)(u.a,{showHeader:l.length>0,columns:o,dataSource:l,locale:{emptyText:"No symbol"},pagination:{pageSize:5},footer:function(){return Object(s.jsx)("div",{style:{textAlign:"left"},children:Object(s.jsx)(m.a,{type:"link",icon:Object(s.jsx)(f.a,{}),onClick:function(){e.setState({modalVisible:!0,modalProps:t,selectedSymbols:t.symbols})},children:"Edit Watchlist or Add new Symbol"})})}},n)]},n)})),Object(s.jsx)(j.a,{visible:n,onCancel:function(){return e.setShowAddModal(!1)},footer:null,maskClosable:!1,destroyOnClose:!0,children:Object(s.jsx)("div",{style:{paddingTop:25},children:Object(s.jsxs)(y.a,{onFinish:function(e){var t=e.name;O.post("/watchlist",{watchlist:{name:t}}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},initialValues:{name:this.state.modalProps.name},children:[Object(s.jsx)(y.a.Item,{name:"name",label:"Watchlist name",rules:[{required:!0,message:"Please input name"}],children:Object(s.jsx)(p.a,{})}),Object(s.jsx)(y.a.Item,{children:Object(s.jsx)(P,{companySymbols:this.state.companySymbols,selectedSymbols:this.state.selectedSymbols,setSelectedSymbols:this.setSelectedSymbols})}),Object(s.jsx)(y.a.Item,{children:Object(s.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})]})}}]),n}(a.Component);var T=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(U,{})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,369)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),o(e),c(e)}))};i.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(T,{})}),document.getElementById("root")),F()}},[[357,1,2]]]);
//# sourceMappingURL=main.f7f7f406.chunk.js.map